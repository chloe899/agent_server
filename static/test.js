(function(){var z=window.Zving,g=z.getDom,Node={};z.idSeed={_seed:0};z.id=function(elem){var idSeed=z.idSeed;if(!elem){return"id"+(++idSeed._seed)}if(typeof elem=="string"){return"elem"+(++idSeed._seed)}if(elem.id){return elem.id}if(elem.URL&&elem.readyState){elem._id="z-document";return elem._id}else{if(elem.location&&elem.navigator){elem._id="z-window";return elem._id}else{if(elem.nodeName){if(idSeed[elem.nodeName]===undefined){idSeed[elem.nodeName]=0}if(!elem.getAttribute("_id")){elem._id=elem.nodeName.toLowerCase()+(++idSeed[elem.nodeName]);elem.setAttribute("_id",elem._id);return elem._id}else{return elem.getAttribute("_id")}}}}return z.Console.error(location.pathname+" ## node.js -- id ::  参数错误，试图获取非DOM元素的id "+elem)};var cssStyleToDomStyle=(function(){var cache={};cache["float"]=z.isIE?"styleFloat":"cssFloat";function replacer(match){return match.charAt(1).toUpperCase()}return function(cssName){return cache[cssName]?cache[cssName]:(cache[cssName]=cssName.toLowerCase().replace(/-./g,replacer))}})();var getPixel=function(el,value){if(/px$/.test(value)||!value){return parseInt(value,10)||0}var right=el.style.right,runtimeRight=el.runtimeStyle.right;var result;var curStyle=el.currentStyle;if(!curStyle&&!z.isIE){curStyle=z.rootWin.getComputedStyle(el,null)}el.runtimeStyle.right=curStyle.right;el.style.right=value;result=el.style.pixelRight||0;el.style.right=right;el.runtimeStyle.right=runtimeRight;return result};Node.getByTag=function(elem,tagName){elem=g(elem);elem=elem||document;tagName=tagName.toUpperCase();var ts=elem.getElementsByTagName(tagName);var arr=[];var len=ts.length;for(var i=0;i<len;i++){arr.push(ts[i])}return arr};Node.getAttr=function(elem,attr,iFlags){elem=g(elem);if("href"!=attr&&elem[attr]!==undefined){return elem[attr]}else{return elem.getAttribute(attr,iFlags||(elem.tagName=="A"&&attr.toLowerCase()=="href"&&2)||null)}};Node.setAttr=function(elem,attr,value){elem=g(elem);if(attr&&typeof attr==="object"){for(var prop in attr){if(attr.hasOwnProperty(prop)){Node.setAttr(elem,prop,attr[prop])}}}else{if(elem.setAttribute){elem.setAttribute(attr,value)}}return elem};Node.attr=function(elem,attr,value){if(typeof(value)==="undefined"){return Node.getAttr(elem,attr)}else{return Node.setAttr(elem,attr,value)}};Node.setOpacity=function(elem,alpha){if((alpha=Number(alpha))<1){alpha*=100}if(z.isIE){elem.style.filter="alpha(opacity="+alpha+")";if(z.isIE6&&alpha>98){elem.style.filter=""}}else{elem.style.opacity=alpha/100}return elem};Node.getOpacity=function(elem){var alpha;if(z.isIE){alpha=elem.currentStyle.filter.indexOf("opacity=")>=0?(parseFloat(elem.currentStyle.filter.match(/opacity=([^)]*)/)[1]))+"":"100"}else{alpha=100*elem.ownerDocument.defaultView.getComputedStyle(elem,null).opacity}return alpha};Node.setStyle=function(elem,attr,value){elem=g(elem);if(attr&&typeof attr==="object"){for(var prop in attr){if(attr.hasOwnProperty(prop)){Node.setStyle(elem,prop,attr[prop])}}}else{attr=attr.camelize();if(attr=="float"){attr=z.isIE?"styleFloat":"cssFloat"}else{if(attr=="opacity"){return Node.setOpacity(elem,value)}}try{elem.style[attr]=value}catch(e){console.log(elem,"设置样式"+attr+"为"+value+"失败")}}return elem};Node.getStyle=function(elem,attr){elem=g(elem);attr=z.String.camelize(attr);if(attr=="float"){attr=z.isIE?"styleFloat":"cssFloat"}else{if(attr=="opacity"){return Node.getOpacity(elem)}}var result=elem.style[attr];return(!result||result==="auto")?null:result};Node.getCurrentStyle=function(elem,attr){elem=g(elem);attr=z.String.camelize(attr);if(attr=="float"){attr=z.isIE?"styleFloat":"cssFloat"}else{if(attr=="opacity"){return Node.getOpacity(elem)}}if(elem.currentStyle){var val=elem.currentStyle[attr];if(val==="auto"&&(attr==="width"||attr==="height")){var rect=elem.getBoundingClientRect();if(attr==="width"){return rect.right-rect.left+"px"}else{return rect.bottom-rect.top+"px"}}return val}else{var curStyle=elem.ownerDocument.defaultView.getComputedStyle(elem,null);if(!curStyle){curStyle=z.rootWin.getComputedStyle(elem,null)}if(curStyle){return curStyle[attr]}else{return elem.style[attr]}}};Node.css=function(elem,attr,value){if(typeof(value)==="undefined"){return Node.getCurrentStyle(elem,attr)}else{return Node.setStyle(elem,attr,value)}};Node.fire=function(elem,eventName){elem=g(elem);if(elem.fireEvent){return elem.fireEvent(eventName)}else{var evtObj;evtName=evtName.substring(2);var doc=elem.ownerDocument||document;if(/mouse|click/i.test(evtName)){evtObj=doc.createEvent("MouseEvents");evtObj.initMouseEvent(evtName,true,true,doc.defaultView,1,0,0,0,0,false,false,false,false,0,null)}else{evtObj=doc.createEvent("Events");evtObj.initEvent(evtName,true,true)}return this.dispatchEvent(evtObj)}};Node.isVisible=function(elem){elem=g(elem);if(!elem.parentNode||elem.tagName!=="BODY"&&elem.parentNode.tagName!=="BODY"&&!elem.offsetParent){return false}var curStyle=elem.currentStyle;if(!curStyle&&!z.isIE){curStyle=z.rootWin.getComputedStyle(elem,null);if(!curStyle){return false}}if(curStyle.display==="none"){return false}else{if(elem.offsetWidth===0&&elem.offsetHeight===0&&elem.tagName!=="TR"){return false}}return true};Node.hide=function(elem){elem=g(elem);if(!elem){return}if(elem.tagName.toLowerCase()==="input"&&elem.type==="button"){if(elem.parentNode&&elem.parentNode.getAttribute("ztype")==="zInputBtnWrapper"){elem.parentNode.style.display="none"}}var curStyle=elem.currentStyle;if(!curStyle&&!z.isIE){curStyle=z.rootWin.getComputedStyle(elem,null)}if(curStyle&&curStyle.display!=="none"){elem._style_display=curStyle.display}elem.style.display="none";return elem};Node.show=function(elem,value){elem=g(elem);if(!elem){return}var displayMap=z.isIE6?{li:"list-item",thead:"table-header-group",tfoot:"table-footer-group",button:"inline-block",textarea:"inline-block",input:"inline-block",select:"inline-block"}:{li:"list-item",table:"table",tr:"table-row",thead:"table-header-group",tbody:"table-row-group",tfoot:"table-footer-group",col:"table-column",colgroup:"table-column-group",td:"table-cell",caption:"table-caption",button:"inline-block",textarea:"inline-block",input:"inline-block",select:"inline-block"};if(elem.tagName.toLowerCase()==="input"&&elem.type==="button"){if(elem.parentNode&&elem.parentNode.getAttribute("ztype")==="zInputBtnWrapper"){elem.parentNode.style.display=""}}var display2,tagName=elem.tagName.toLowerCase();if(value){display2=value}else{if(elem._style_display){display2=elem._style_display}else{if(displayMap[tagName]){display2=displayMap[tagName]}else{if(/^(body|div|dl|dt|dd|fieldset|form|h\d|ol|p|ul|center|hr|menu|pre)$/i.test(tagName)){display2="block"}else{display2=""}}}}elem.style.display=display2;return elem};Node.toggle=function(elem,value){elem=g(elem);if(Node.isVisible(elem)){Node.hide(elem)}else{Node.show(elem,value)}return elem};Node.unselectable=function(elem){elem=g(elem)||document.body;elem.unselectable="on";elem.onselectstart=function(e){e=e||window.event;if(e.stopPropagation){e.stopPropagation()}if(e.preventDefault){e.preventDefault()}return false};elem.style["-moz-user-select"]="none";elem.style["-khtml-user-select"]="none";elem.style["-webkit-user-select"]="none";return elem};Node.selectable=function(elem){elem=g(elem)||document.body;elem.unselectable="off";elem.onselectstart=null;elem.style["-moz-user-select"]="auto";elem.style["-khtml-user-select"]="auto";elem.style["-webkit-user-select"]="auto";return elem};Node.disable=function(elem,mask){elem=g(elem);if(!elem||!elem.tagName){return}if(elem.tagName.toLowerCase()==="form"){var elements=elem.elements;for(var i=0;i<elements.length;i++){try{Node.disable(elements[i])}catch(ex){alert("error Node.disable():"+elements[i].outerHTML)}}}else{if(elem.getAttribute("ztype")){var ztype=elem.getAttribute("ztype");if(/select|date|time/i.test(ztype)&&!isIE){elem.disabled=true}else{if(elem.compId){Node.getComponent(elem).disable()}}}else{Node.addClass(elem,"disabled");elem.disabled=true}}return elem};Node.enable=function(elem){elem=g(elem);if(elem.tagName.toLowerCase()==="form"){var elements=elem.elements;for(var i=0;i<elements.length;i++){var element=elements[i];try{Node.enable(elements[i])}catch(ex){alert("enable():"+elements[i].outerHTML)}}}else{if(elem.getAttribute("ztype")&&elem.getAttribute("ztype").toLowerCase()==="select"){elem.disabled=false}else{if(elem.getAttribute("ztype")){var ztype=elem.getAttribute("ztype");if(/select|date|time/i.test(ztype)){elem.disabled=false}else{if(elem.compId){Node.getComponent().enable()}}}else{if(Node.hasClass(elem,"disabled")){Node.removeClass(elem,"disabled")}elem.disabled=false}}}return elem};Node.getPadding=function(elem){var el=g(elem);return[getPixel(el,Node.getCurrentStyle(el,"paddingTop")),getPixel(el,Node.getCurrentStyle(el,"paddingRight")),getPixel(el,Node.getCurrentStyle(el,"paddingBottom")),getPixel(el,Node.getCurrentStyle(el,"paddingLeft"))]};Node.getMargin=function(elem){var el=g(elem);return[getPixel(el,Node.getCurrentStyle(el,"marginTop")),getPixel(el,Node.getCurrentStyle(el,"marginRight")),getPixel(el,Node.getCurrentStyle(el,"marginBottom")),getPixel(el,Node.getCurrentStyle(el,"marginLeft"))]};Node.getOuterW=function(elem){elem=g(elem);var map={thin:2,medium:4,thick:6};var curStyle=elem.currentStyle;if(!curStyle&&!z.isIE){curStyle=z.rootWin.getComputedStyle(elem,null)}var blw=curStyle.borderLeftWidth;blw=curStyle.borderLeftStyle=="none"?0:(map[blw]||parseFloat(blw)||0);var brw=curStyle.borderRightWidth;brw=curStyle.borderRightStyle=="none"?0:(map[brw]||parseFloat(brw)||0);var pl=curStyle.paddingLeft;pl=parseFloat(pl)||0;var pr=curStyle.paddingRight;pr=parseFloat(pr)||0;return blw+brw+pl+pr};Node.getOuterH=function(elem){elem=g(elem);var map={thin:2,medium:4,thick:6};var curStyle=elem.currentStyle;if(!curStyle&&!z.isIE){curStyle=z.rootWin.getComputedStyle(elem,null)}var btw=curStyle.borderTopWidth;btw=curStyle.borderTopStyle=="none"?0:(map[btw]||parseFloat(btw)||0);var bbw=curStyle.borderBottomWidth;bbw=curStyle.borderBottomStyle=="none"?0:(map[bbw]||parseFloat(bbw)||0);var pt=curStyle.paddingTop;pt=parseFloat(pt)||0;var pb=curStyle.paddingBottom;pb=parseFloat(pb)||0;return btw+bbw+pt+pb};Node.getContentSize=function(elem){elem=g(elem);var dim=Node.getSize(elem);return{width:dim.width-Node.getOuterW(elem),height:dim.height-Node.getOuterH(elem)}};Node.getSize=function(elem){elem=g(elem);var dim;if((/^(head|meta|script|link|area|param)$/i).test(elem.tagName)){dim={width:0,height:0}}else{if(Node.getCurrentStyle(elem,"display")==="none"){var style=elem.style;var vis=style.visibility;var pos=style.position;var dis=style.display;style.visibility="hidden";style.position="absolute";switch(elem.tagName.toLowerCase()){case"table":style.display="table";break;case"tr":style.display="table-row";break;case"td":case"th":style.display="table-cell";break;case"button":case"textarea":case"input":case"select":style.display="inline-block";break;default:style.display="block"}var w=elem.offsetWidth;var h=elem.offsetHeight;style.display=dis;style.position=pos;style.visibility=vis;dim={width:w,height:h}}else{dim={width:elem.offsetWidth,height:elem.offsetHeight}}}return dim};Node.setSize=function(elem,w,h){elem=g(elem);if(typeof h=="undefined"&&z.isObject(w)){h=w.height;w=w.width}if(typeof w=="string"&&!/^\d+\.?\d*(px)?$/.test(w)){elem.style.width=w}else{w=parseFloat(w)}if(typeof h=="string"&&!/^\d+\.?\d*(px)?$/.test(h)){elem.style.height=h}else{h=parseFloat(h)}if(!isNaN(w)){elem.style.width=(z.isBorderBox?w:Math.max(+w-Node.getOuterW(elem),0))+"px"}if(!isNaN(h)){elem.style.height=(z.isBorderBox?h:Math.max(+h-Node.getOuterH(elem),0))+"px"}return elem};Node.setContentSize=function(elem,w,h){elem=g(elem);w=parseFloat(w,10);h=parseFloat(h,10);if(isNaN(w)&&isNaN(h)){throw"node.js -- Node.setSize :: 传入setContentSize方法的参数错误"}if(!isNaN(w)){elem.style.width=(z.isBorderBox?+w+Node.getOuterW(elem):w)+"px"}if(!isNaN(h)){elem.style.height=(z.isBorderBox?+h+Node.getOuterH(elem):h)+"px"}return elem};Node.setPosition=function(elem,x,y){elem=g(elem);if(typeof y=="undefined"&&z.isObject(x)){y=typeof x.y=="undefined"?x.top:x.y;x=typeof x.x=="undefined"?x.left:x.x}x=parseFloat(x);y=parseFloat(y);if(!isNaN(x)){elem.style.left=x+"px";elem.left=x}if(!isNaN(y)){elem.style.top=y+"px";elem.top=y}return elem};Node.getPosition=Node.getOffset=function(elem){elem=g(elem);var doc=elem.ownerDocument;if(!elem.parentNode||elem.tagName!=="BODY"&&elem.parentNode.tagName!=="BODY"&&!elem.offsetParent){return false}if(elem.parentNode===null||elem.style.display==="none"){return false}var pNode=null;var pos=[];var box;if(elem.getBoundingClientRect){box=elem.getBoundingClientRect();var scrollTop=Math.max(doc.documentElement.scrollTop,doc.body.scrollTop);var scrollLeft=Math.max(doc.documentElement.scrollLeft,doc.body.scrollLeft);var X=box.left+scrollLeft-doc.documentElement.clientLeft-doc.body.clientLeft;var Y=box.top+scrollTop-doc.documentElement.clientTop-doc.body.clientTop;return{x:X,y:Y,left:X,top:Y}}else{if(doc.getBoxObjectFor){box=doc.getBoxObjectFor(elem);var borderLeft=(elem.style.borderLeftWidth)?parseInt(elem.style.borderLeftWidth,10):0;var borderTop=(elem.style.borderTopWidth)?parseInt(elem.style.borderTopWidth,10):0;pos=[box.x-borderLeft,box.y-borderTop]}}if(elem.parentNode){pNode=elem.parentNode}else{pNode=null}while(pNode&&pNode.tagName!=="BODY"&&pNode.tagName!=="HTML"){pos[0]-=pNode.scrollLeft;pos[1]-=pNode.scrollTop;if(pNode.parentNode){pNode=pNode.parentNode}else{pNode=null}}return{x:pos[0],y:pos[1],left:pos[0],top:pos[1]}};Node.offset=function(elem,x,y){if(typeof x=="undefined"){Node.getOffset(elem)}else{Node.setPosition(elem,x,y)}};Node.getPositionEx=Node.getOffsetEx=function(elem){var el=g(elem);var pos=Node.getOffset(el);var pos2=z.Dom.getFrameXY();pos.x+=pos2.x;pos.y+=pos2.y;return pos};Node.getScroll=function(elem){var d=g(elem);var doc;doc=z.isDocument(d)?d:d.ownerDocument;var win=doc.parentWindow,body=doc.body,docElement=doc.documentElement,l,t,ret;if(d==doc||d==body){if(z.isIE&&z.isStrict){l=docElement.scrollLeft;t=docElement.scrollTop}else{l=win.pageXOffset;t=win.pageYOffset}ret={left:l||(body?body.scrollLeft:0),top:t||(body?body.scrollTop:0)}}else{ret={left:d.scrollLeft,top:d.scrollTop}}return ret};Node.getRect=Node.getBox=function(elem){var el=g(elem);var p=Node.getOffset(el);var x=p.x;var y=p.y;var w=el.offsetWidth;var h=el.offsetHeight;return{width:w,height:h,left:x,top:y,bottom:y+h,right:x+w}};Node.setBox=function(elem,rect){var el=g(elem);el.setPosition(rect);el.setSize(rect);return el};Node.createChild=function(elem,config,insertBefore,returnDom){var dom;var el=z.g(elem);dom=z.Dom.createNode(config||{tag:"div"});if(insertBefore&&el.firstChild){dom.insertBefore(el,el.firstChild)}else{el.appendChild(dom)}return returnDom===true?dom:elem};Node.createProxy=function(elem,className,renderTo,matchBox){var el=g(elem);var doc=renderTo?renderTo.ownerDocument:document;var div=z.Dom.createNode({className:className||""},doc);var proxy=renderTo?renderTo.appendChild(div):el.parentNode.insertBefore(div,el);if(matchBox){Node.setBox(proxy,Node.getBox(el))}return proxy};Node.scrollTo=function(elem,x,y,anim){var el=g(elem);el.scrollLeft=x;el.scrollTop=y;return el};Node.getParent=function(elem,tagName){var el=g(elem);if(!tagName){return el.parentNode}while(el){if(el.nodeName.toLowerCase()===tagName.toLowerCase()){return el}el=el.parentNode}return null};Node.getParentBy=function(elem,func){var el=g(elem);while(el&&el.nodeType){if(func(el)){return el}el=el.parentNode}return null};Node.getParentByClass=function(elem,className){var el=g(elem);className=className.replace(/\-/,"-");while(el&&el.nodeType){if(new RegExp("(?:^|\\s)"+className+"(?:\\s|$)").test(el.className)){return el}el=el.parentNode}return null};Node.getParentByAttr=function(elem,attrName,attrValue){var el=g(elem);while(el&&el.tagName&&el.getAttribute){if(el.getAttribute(attrName)===attrValue){return el}el=el.parentNode}return null};Node.getForm=function(elem){var el=g(elem);return Node.getParent(el,"form")};Node.nextElement=function(elem,tagName){var el=g(elem);if(typeof elem=="string"&&!el){return null}var x=el.nextSibling;while(x&&x.nodeType!==1&&(tagName?x.tagName!==tagName:true)){x=x.nextSibling}return x};Node.prevElement=function(elem,tagName){var el=g(elem);if(typeof elem=="string"&&!el){return null}var x=el.previousSibling;while(x&&x.nodeType!==1&&(tagName?x.tagName==tagName:true)){x=x.previousSibling}return x};Node.siblings=function(elem,tagName){var el=g(elem);var tempEl=el.parentNode.firstChild,ret=[];var fcheck=function(el){return tagName?true:(el.tagName?false:el.tagName.toLowerCase()==tagName.toLowerCase())};while(tempEl){if(el!=tempEl&&fcheck(tempEl)){ret.push(tempEl)}tempEl=tempEl.nextSibling}return ret};Node.hasClass=Node.hasClassName=function(elem,className){var el=g(elem);className=className.replace(/\-/,"-");return new RegExp("(?:^|\\s)"+className+"(?:\\s|$)").test(el.className)};Node.addClass=function(elem,className){var el=g(elem);if(!Node.hasClass(el,className)){el.className=el.className?el.className+" "+className:className}return el};Node.removeClass=function(elem,className){var el=g(elem);className=className.replace(/\-/,"-");var classToRemove=new RegExp(("(^|\\s)"+className+"(?=\\s|$)"),"i");el.className=el.className.replace(classToRemove,"").replace(/^\s+|\s+$/g,"");return el};Node.replaceClass=function(elem,oldClassName,newClassName){var el=g(elem);if(Node.hasClass(el,oldClassName)){el.className=el.className.replace(new RegExp("(^|\\s)"+oldClassName+"(?=\\s|$)","ig"),"$1"+newClassName)}else{Node.addClass(el,newClassName)}return el};Node.toggleClass=function(elem,className1,className2){var el=g(elem);className2=className2||"";if(Node.hasClass(el,className1)){Node.replaceClass(el,className1,className2)}else{Node.replaceClass(el,className2,className1)}return el};Node.getElementsByClassName=function(elem,className,tagName){var el=g(elem)||document;if(!className&&tagName){return el.getElementsByTagName(tagName)}if(!tagName&&className.indexOf(".")!=-1){var match=/^([\w\-]+)?\.([\w\-]+)/.exec(className);className=match[1];tagName==match[2]}var children=el.getElementsByTagName(tagName||"*");var elements=[];for(var i=0;i<children.length;i++){if(Node.hasClass(children[i],className)){elements.push(children[i])}}return elements};var _filterByProp=function(collection,attr,condition){var node,nodeProp,ret=[],match,isEval;if(collection.nodeName&&collection.nodeType){collection=[collection]}if(condition===undefined){if(typeof attr=="string"){condition=function(){return !!eval("(this."+attr+")")};isEval=true}else{if(typeof attr=="function"){condition=attr}}}for(var i=0;i<collection.length;i++){node=collection[i];nodeProp=attr;if(typeof attr=="string"&&!isEval){nodeProp=node[attr]}if(typeof condition=="function"){match=condition.call(node,nodeProp)}else{if(Object.prototype.toString.call(condition)=="[object RegExp]"){match=condition.test(nodeProp)}else{if(typeof condition=="boolean"){match=nodeProp===condition}else{match=nodeProp===condition}}}if(match){ret.push(node)}}return ret};var _filterByAttr=function(collection,attr,condition){var node,nodeProp,ret=[],match,isEval;if(collection.nodeName&&collection.nodeType){collection=[collection]}if(condition===undefined){if(typeof attr=="string"){condition=function(){return !!eval('(this.getAttribute("'+attr+'"))')};isEval=true}else{if(typeof attr=="function"){condition=attr}}}for(var i=0;i<collection.length;i++){node=collection[i];nodeProp=attr;if(typeof attr=="string"&&!isEval){nodeProp=node.getAttribute(attr)}if(typeof condition=="function"){match=condition.call(node,nodeProp)}else{if(Object.prototype.toString.call(condition)=="[object RegExp]"){match=condition.test(nodeProp)}else{if(typeof condition=="boolean"){match=(nodeProp==null?false:true)===condition}else{match=nodeProp===String(condition)}}}if(match){ret.push(node)}}return ret};Node.find=function(elem,selector){if(typeof elem=="string"&&!selector){selector=elem;elem=document}var ele=g(elem);var match=/^([\w\-]+)?(?:\.([\w\-]+))?(?:\:([\w\-]+))?/.exec(selector);var tagName=match[1],className=match[2],prop=match[3];if(prop&&!tagName){tagName="INPUT"}var collection=Node.getElementsByClassName(ele,className,tagName);if(prop){if(/^(text|password|radio|checkbox|submit|image|reset|file|hidden)$/.test(prop)){return _filterByProp(collection,"type",prop)}else{if(/^(disabled|checked)$/.test(prop)){return _filterByProp(collection,prop,true)}else{throw new Error("Node.find方法不支持此伪类选择器:"+prop)}}}return collection};Node.findOne=function(elem,selector){return Node.find(elem,selector)[0]};Node.getValue=function(elem){var ele=g(elem);if(!ele){z.Console.error(location.pathname+' - $V : 表单元素"'+(elem||arguments.callee.caller["arguments"][0])+'"不存在 ');return}if(!ele.type){return ele.value}switch(ele.type.toLowerCase()){case"text":case"textarea":if(ele.getAttribute("placeholder")&&ele.value==ele.getAttribute("placeholder")){return""}return ele.value;case"submit":case"hidden":case"password":case"file":case"image":case"select-one":return ele.value;case"checkbox":case"radio":if(ele.checked){return ele.value}return null;default:return""}};Node.setValue=function(elem,value){var ele=g(elem);if(!value&&value!==0){value=""}if(!ele){alert(location.pathname+' - $V : 表单元素"'+(elem||arguments.callee.caller["arguments"][0])+'"不存在 ');return}switch(ele.type.toLowerCase()){case"submit":case"hidden":case"password":case"textarea":case"button":case"file":case"image":case"select-one":case"text":ele.value=value;break;case"checkbox":case"radio":if(ele.value===""+value){ele.checked=true}else{ele.checked=false}break}return ele};Node.val=function(elem,value){if(typeof(value)==="undefined"){return Node.getValue(elem)}else{return Node.setValue(elem,value)}};Node.contains=function(elem,targetEl){var el=g(elem);target=g(targetEl);return el.contains?el!=target&&el.contains(target):!!(el.compareDocumentPosition(target)&16)};Node.anchorPos=function(me,elem,dir,rdir,off,rean,move){var el=g(elem);if(el.nodeName){var bxy=Node.getOffset(el),bsz=Node.getSize(el);el=[bxy.x,bxy.y,bsz.width,bsz.height]}me=g(me);var sz=Node.getSize(me),w=sz.width,h=sz.height,bx=el[0],by=el[1],bw=el[2],bh=el[3],nx,ny;nx=dir.charAt(0)==="l"?bx-w:bx+bw;ny=dir.charAt(1)==="t"?by-h:by+bh;if(rdir){if(rdir.charAt(0)==="h"){nx=rdir.charAt(1)==="l"?nx-w:nx+w}else{ny=rdir.charAt(1)==="u"?ny-h:ny+h}}if(off){nx+=off[0];ny+=off[1]}if(rean){var vp=z.Dom.getViewport(),vh=vp.height,vw=vp.width;if(nx<0){nx=0;if(by+bh>ny&&by<ny+h){ny=by-h}}if(nx+w>vw){nx=by+bh>ny&&by<ny+h?bx-w:vw-w}if(ny<0){ny=bx+bw>nx&&bx<nx+w?by+bh:0}if(ny+h>vh){ny=bx+bw>nx&&bx<nx+w?by-h:vh-h}}if(move){Node.setPosition(me,nx,ny)}return{x:nx,y:ny}};Node.getConstrainToXY=function(elem,ConstrainEl,local,offsets,proposedXY){var el=g(elem);ConstrainEl=g(ConstrainEl);var os={top:0,left:0,bottom:0,right:0};offsets=offsets?z.applyIf(offsets,os):os;var vw,vh,vx=0,vy=0;if(ConstrainEl.tagName=="BODY"||z.isDocument(ConstrainEl)){var v=z.Dom.getViewport(ConstrainEl.ownerDocument||ConstrainEl);vw=v.width;vh=v.height}else{vw=ConstrainEl.clientWidth;vh=ConstrainEl.clientHeight;if(!local){var vxy=ConstrainEl.getOffset();vx=vxy[0];vy=vxy[1]}}var s=Node.getScroll(ConstrainEl);vx+=offsets.left+s.left;vy+=offsets.top+s.top;vw-=offsets.right;vh-=offsets.bottom;var vr=vx+vw,vb=vy+vh,xy=proposedXY||(!local?Node.getOffset(el):{left:parseInt(Node.getStyle(el,"left"),10)||0,top:parseInt(Node.getStyle(el,"top"),10)||0});var x=xy.left,y=xy.top,offset=el.getConstrainOffset?el.getConstrainOffset():0,w=el.offsetWidth+offset,h=el.offsetHeight+offset;var moved=false;if((x+w)>vr){x=vr-w;moved=true}if((y+h)>vb){y=vb-h;moved=true}if(x<vx){x=vx;moved=true}if(y<vy){y=vy;moved=true}return moved?{left:x,top:y}:false};Node.getJson=function(ele,jsonObj,filter){jsonObj=jsonObj||{};filter=filter||function(el){return false};var _push=function(name,value,intoArray){if(typeof jsonObj[name]!="undefined"){if(Object.prototype.toString.apply(jsonObj[name])!="[object Array]"&&!intoArray){jsonObj[name]=[jsonObj[name]]}jsonObj[name].push(value)}else{jsonObj[name]=intoArray?[value]:value}};var el=z.g(ele);if(!el||filter(el)){return null}if(/^(input|textarea|select)$/i.test(el.tagName)){var nameOrId=el.name||el.id;if(!el.type||!nameOrId){return}switch(el.type){case"text":case"textarea":if(el.getAttribute("placeholder")&&el.value==el.getAttribute("placeholder")){_push(nameOrId,"")}else{_push(nameOrId,el.value)}break;case"hidden":case"password":_push(nameOrId,el.value);break;case"checkbox":if(el.name&&el.checked){_push(nameOrId,el.value,true)}break;case"radio":if(el.name&&el.checked){_push(nameOrId,el.value)}break;case"select-one":if(el.selectedIndex>-1){_push(nameOrId,el.value)}break;case"select-multiple":var opts=el.options,vals=[];for(var j=0;j<opts.length;++j){if(opts[j].selected){vals.push(opts[j].value)}}_push(nameOrId,vals);break;case"button":break}return jsonObj}if(/^(area|base|basefont|col|frame|hr|img|br|isindex|link|meta|option|param)$/i.test(el.tagName)){return null}var els,len,i;if(el.getAttribute("ztype")&&el.getAttribute("ztype").toLowerCase()=="datalevel"){els=el.children;len=els.length;var dataLevel={};for(i=0;i<len;i++){var o=Node.getJson(els[i],dataLevel)}if(dataLevel){_push(el.getAttribute("name")||el.tagName||el.id,dataLevel,true)}}else{els=el.children;len=els.length;for(i=0;i<len;i++){var obj=Node.getJson(els[i],jsonObj)}}return jsonObj};Node.update=function(elem,html,loadScripts,callback){ele=z.g(elem);if(typeof html=="undefined"){html=""}if(loadScripts!==true){ele.innerHTML=html;if(typeof callback=="function"){callback()}return ele}var doc=ele.ownerDocument;var id=z.id();html+='<span id="'+id+'"></span>';Dom.available(id,function(){var hd=doc.head||doc.getElementsByTagName("head")[0];var re=/(?:<script([^>]*)?>)((\n|\r|.)*?)(?:<\/script>)/ig;var srcRe=/\ssrc=([\'\"])(.*?)\1/i;var typeRe=/\stype=([\'\"])(.*?)\1/i;var match;while(match=re.exec(html)){var attrs=match[1];var srcMatch=attrs?attrs.match(srcRe):false;if(srcMatch&&srcMatch[2]){var s=doc.createElement("script");s.src=srcMatch[2];var typeMatch=attrs.match(typeRe);if(typeMatch&&typeMatch[2]){s.type=typeMatch[2]}hd.appendChild(s)}else{if(match[2]&&match[2].length>0){if(window.execScript){window.execScript(match[2])}else{window["eval"](match[2])}}}}var el=document.getElementById(id);if(el){Dom.removeNode(el)}if(typeof callback=="function"){callback()}});ele.innerHTML=html.replace(/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,"");return ele};var MutationObserver=window.MutationObserver||window.MozMutationObserver||window.WebKitMutationObserver;Node.onPropertyChange=function(el,propName,fn,scope){propName=propName.toLowerCase();el=z.g(el);var $el=$(el);$el.on("change"+propName,$.proxy(fn,scope||el));if(MutationObserver&&(propName=="checked"||propName=="value")){if(typeof $el.data("_listenPropChange_"+propName)=="undefined"){el["_"+propName]=el[propName];var _setter=function(v){if(v==this["_"+propName]){return false}this["_"+propName]=v;delete this[propName];if(!v&&propName=="checked"){this.removeAttribute(propName)}else{this.setAttribute(propName,v)}this[propName]=v;this.__defineSetter__(propName,_setter);this.__defineGetter__(propName,_getter);$(this).trigger("change"+propName,[v,this])};var _getter=function(v){return this["_"+propName]};if(document.watch){el.watch(propName,function(attr,oldVal,newVal){if(newVal==el["_"+propName]){return newVal}el["_"+propName]=newVal;console.log("watch checked",propName,newVal,this["_"+propName]);setTimeout(function(){$el.trigger("change"+propName,[newVal,el])},1);return newVal})}else{el.__defineSetter__(propName,_setter);el.__defineGetter__(propName,_getter)}if(document.watch){$el.on("change",function(evt){evt=evt.originalEvent||evt;var v=this[propName];console.log("addEventListener change",evt,propName,v,this["_"+propName]);if(v==this["_"+propName]){return false}this["_"+propName]=v;$el.trigger("change"+propName,[v,el])},false)}else{if(propName=="value"){$el.on("change",function(evt){var sr=this.setSelectionRange(0,99999);var s=window.getSelection();var v="";if(s){v=s.toString()}this["_"+propName]=v;console.log("addEventListener change",propName,v,this["_"+propName]);$el.trigger("change"+propName,[v,el])},false)}else{if(propName=="checked"){$el.on("change",function(evt){var v=!this["_"+propName];console.log("addEventListener change",propName,v,this["_"+propName]);_setter.call(this,v)},false)}}}if(typeof $el.data("_listenPropChange_byMutationObserver")=="undefined"){var ob=new MutationObserver(function(mutations){mutations.forEach(function(evt){var el=evt.target;var attrName=evt.attributeName;var v=el.getAttribute(attrName);if($el.data("_listenPropChange_"+attrName.toLowerCase())){if(attrName=="checked"&&!!v==!!el["_"+attrName]||v==el["_"+attrName]){return false}el["_"+attrName]=v;$el.trigger("change"+attrName,[v,el])}})});ob.observe(el,{attributes:true});$el.data("_listenPropChange_byMutationObserver",true)}}$el.data("_listenPropChange_"+propName,true);return}if(document.__defineSetter__&&" alt align accept autofocus disabled draggable defaultvalue defaultchecked height id lang min max multiple name pattern placeholder required src step spellcheck title width ".indexOf(" "+propName+" ")==-1){if(typeof $el.data("_listenPropChange_"+propName)=="undefined"){el["_"+propName]=el[propName];if(document.watch){el.watch(propName,function(attr,oldVal,newVal){if(newVal==el["_"+propName]){return newVal}el["_"+propName]=newVal;console.log("watch checked",propName,newVal,this["_"+propName]);setTimeout(function(){$el.trigger("change"+propName,[newVal,el])},1);return newVal})}else{el.__defineSetter__(propName,function(v){console.log("__defineSetter__",propName,v,el["_"+propName]);if(v==this["_"+propName]){return false}this["_"+propName]=v;if(!v&&" checked disabled draggable hidden readOnly multiple required formnovalidate ".indexOf(" "+propName+" ")!=-1){this.removeAttribute(propName)}else{this.setAttribute(propName,v)}$el.trigger("change"+propName,[v,el])});el.__defineGetter__(propName,function(v){return this["_"+propName]})}$el.data("_listenPropChange_"+propName,true)}}else{if(MutationObserver){el["_"+propName]=el[propName];$el.data("_listenPropChange_"+propName,true);if(typeof $el.data("_listenPropChange_byMutationObserver")=="undefined"){var ob=new MutationObserver(function(mutations){mutations.forEach(function(evt){var el=evt.target;var attrName=evt.attributeName;var v=el.getAttribute(attrName);if(v===""&&" checked disabled draggable hidden readOnly multiple required formnovalidate ".indexOf(" "+attrName+" ")!=-1){v=true}if($el.data("_listenPropChange_"+attrName.toLowerCase())){if(v==el["_"+attrName]){return false}if(document.watch){if(el[attrName]!=v){el[attrName]=v}}else{el["_"+attrName]=v}$el.trigger("change"+attrName,[v,el])}})});ob.observe(el,{attributes:true});$el.data("_listenPropChange_byMutationObserver",true)}}else{if(document.attachEvent&&"onpropertychange" in document){el["_"+propName]=el[propName];$el.data("_listenPropChange_"+propName,true);if(typeof $el.data("_listenPropChange")=="undefined"){$el.on("propertychange",function(evt){evt=evt.originalEvent||evt;var el=evt.srcElement;var attrName=evt.propertyName;var v=el[attrName];if($el.data("_listenPropChange_"+attrName)){if(v==el["_"+attrName]){return false}el["_"+attrName]=v;$el.trigger("change"+attrName,[v,el])}});$el.data("_listenPropChange",true)}}else{if(document.watch){if(typeof $el.data("_listenPropChange_"+propName)=="undefined"){el["_"+propName]=el[propName];el.watch(propName,function(attr,oldVal,newVal){if(newVal==el["_"+propName]){return newVal}el["_"+propName]=newVal;console.log("watch",propName,newVal,el["_"+propName]);setTimeout(function(){$el.trigger("change"+propName,[newVal,el])},1);return newVal});$el.data("_listenPropChange_"+propName,true)}}}}}};Node.unPropertyChange=function(el,propName,fn){var el=z.g(el);var $el=$(el);$el.off("change"+propName.toLowerCase(),fn);$el.removeData("_listenPropChange_"+propName);if(document.watch){el.unwatch(propName)}};Node.getComponent=function(elem){return ComponentManager.getById(elem.compId||elem.id)};z.$$=function(selector,context){return jQuery.find(selector,context)};z.Node=Node})();(function(){var d=window.Zving,b=d.isIE,a=d.isGecko,c={};c.lockSelect=function(e){e=e||document.body||document.documentElement;if(d.isGecko){e.style.MozUserSelect="none";e.style.MozUserInput="none"}else{document.selection.empty();e.onselectstart=d.Event.stopEvent}};c.unlockSelect=function(e){e=e||document.body||document.documentElement;if(d.isGecko){e.style.MozUserSelect="";e.style.MozUserInput=""}else{e.onselectstart=null}};c.copyToClipboard=function(l){if(l===null){return}if(window.clipboardData){window.clipboardData.setData("Text",l)}else{if(window.netscape){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect")}catch(g){Dialog.alert("Firefox自动复制功能未启用！<br>请访问<a href='about:config' target='_blank'>about:config</a> 将’signed.applets.codebase_principal_support’设置为’true’");return}var h=Components.classes["@mozilla.org/widget/clipboard;1"].createInstance(Components.interfaces.nsIClipboard);if(!h){return}var f=Components.classes["@mozilla.org/widget/transferable;1"].createInstance(Components.interfaces.nsITransferable);if(!f){return}f.addDataFlavor("text/unicode");var k={};var e={};k=Components.classes["@mozilla.org/supports-string;1"].createInstance(Components.interfaces.nsISupportsString);var m=l;k.data=m;f.setTransferData("text/unicode",k,m.length*2);var j=Components.interfaces.nsIClipboard;if(!h){return}h.setData(f,null,j.kGlobalClipboard)}else{Dialog.alert("该浏览器不支持自动复制功能！");return}}Dialog.alert("己复制文字：<br><br><font color='red'>"+l+"</font><br><br>到剪贴板",null,400,200)};c.hasFontList={};c.hasFont=function(f){if(c.hasFontList[f.toLowerCase()]!==undefined){return c.hasFontList[f.toLowerCase()]}var m=d.getDom("_fontdetect");if(!m){m=document.createElement("DIV");m.id="_fontdetect";m.style.cssText="position:absolute; top:-111px; left:0;";document.body.appendChild(m)}m.innerHTML='<iframe src="about:blank" id="frame_fontdetect" width="1000" height="100"></iframe>';var g=d.getDom("frame_fontdetect");var o=g.contentWindow.document;if(d.isIE){o.open();o.write("<html><body><script type="text/javascript" src="/js/agent_common_client.js"></script></body></html>");o.close()}var j=o.body;var n=o.createElement("DIV");var t=o.createElement("SPAN");var r="font-size: 60px; margin: 0; padding: 0; border: 0; white-space: nowrap; line-height: 1; font-style: normal; font-weight: normal; text-decoration: none;";n.appendChild(t);n.style.cssText=r;t.style.cssText=r;t.innerHTML="The quick brown fox jumps over the lazy dog";j.appendChild(n);var q=t.offsetWidth;var e=t.offsetHeight;var k;if(n.currentStyle){k=n.currentStyle.fontFamily}else{k=o.defaultView.getComputedStyle(n,null).fontFamily}t.style.fontFamily=f;var h=t.offsetWidth;var l=t.offsetHeight;var p;o=n=t=null;g=null;m.innerHTML="";f=f.toLowerCase();if(f==k.toLowerCase()||/^(arial|verdana|sans-serif|serif)$/.test(f)){p=true}else{if(d.isWindows&&/^(tahoma|simsun|宋体|simhei|黑体)$/.test(f)){p=true}else{if(d.isMac&&/^(helvetica|stsong|华文宋体|stheiti|华文黑体)$/.test(f)){p=true}else{p=(h!=q||l!=e)}}}f=f.toLowerCase();c.hasFontList[f.toLowerCase()]=p;return p};if(window!=d.rootWin){c.hasFontList=d.rootWin.Zving.Misc.hasFontList;c.hasFont=d.rootWin.Zving.Misc.hasFont}d.Misc=c})();(function(){var c=window.Zving,b=c.isIE;var a=function(e,d){this.init(e,d)};a.prototype={init:function(m,j){this._obj=typeof(m)==="string"?document.getElementById(m):m;this._styleWidth=this._styleHeight=this._styleLeft=this._styleTop=0;this._sideRight=this._sideDown=this._sideLeft=this._sideUp=0;this._fixLeft=this._fixTop=0;this._scaleLeft=this._scaleTop=0;this._mxSet=function(){};this._mxRightWidth=this._mxDownHeight=this._mxUpHeight=this._mxLeftWidth=0;this._mxScaleWidth=this._mxScaleHeight=0;this._fun=function(){};var e=this._obj.currentStyle;this._borderX=(parseInt(e.borderLeftWidth,10)||0)+(parseInt(e.borderRightWidth,10)||0);this._borderY=(parseInt(e.borderTopWidth,10)||0)+(parseInt(e.borderBottomWidth,10)||0);var g=this;this._fR=function(f){g.Resize(f)};this._fS=function(){g.Stop()};this.SetOptions(j);this.Max=!!this.options.Max;this._mxContainer=(typeof(m)==="string"?document.getElementById(this.options.mxContainer):this.options.mxContainer)||null;this.mxLeft=Math.round(this.options.mxLeft);this.mxRight=Math.round(this.options.mxRight);this.mxTop=Math.round(this.options.mxTop);this.mxBottom=Math.round(this.options.mxBottom);this.Min=!!this.options.Min;this.minWidth=Math.round(this.options.minWidth);this.minHeight=Math.round(this.options.minHeight);this.Scale=!!this.options.Scale;this.Ratio=Math.max(this.options.Ratio,0);this._wrap=this.options.wrap?(typeof(this.options.wrap)==="string"?document.getElementById(this.options.wrap):this.options.wrap):this._obj;this.onResize=this.options.onResize;this.endResize=this.options.endResize;this.proxy=this.options.proxy;if(this.options.proxy){this._proxy=document.createElement("div");this._proxy.style.cssText=this._wrap.style.cssText;this._proxy.className="rProxy";this._proxy.style.height=this._wrap.clientHeight+"px";this._proxy.style.width=this._wrap.clientWidth+"px";this._proxy.style.display="none";this._wrap.parentNode.appendChild(this._proxy)}else{this._proxy=this._wrap}if(this.options.attachObj){this.attachObj=[];for(var k=0,d=this.options.attachObj.length;k<d;k++){var h=this.options.attachObj[k];h=typeof(h)==="string"?document.getElementById(h):h;if(h){this.attachObj.push(h)}}}if(this._obj.currentStyle.position!=="absolute"){this._obj.style.position="relative";this.isStatic=true}else{this.isStatic=this.options.isStatic}this.idPrefix=m.id+"_";var l=document.createElement("span");l.innerHTML=('<a href="javascript:void(0);" id="@rHandleRightDown" class="rHandle rHandleRightDown" drag="false"> </a><a href="javascript:void(0);" id="@rHandleLeftDown" class="rHandle rHandleLeftDown"> </a><a href="javascript:void(0);" id="@rHandleRightUp" class="rHandle rHandleRightUp"> </a><a href="javascript:void(0);" id="@rHandleLeftUp" class="rHandle rHandleLeftUp"> </a><a href="javascript:void(0);" id="@rHandleRight" class="rHandle rHandleRight"> </a><a href="javascript:void(0);" id="@rHandleDown" class="rHandle rHandleDown"></a><a href="javascript:void(0);" id="@rHandleLeft" class="rHandle rHandleLeft"> </a><a href="javascript:void(0);" id="@rHandleUp" class="rHandle rHandleUp"> </a>').replace(/@/gm,this.idPrefix);this._wrap.appendChild(l);if(!this.isStatic){this.Set(this.idPrefix+"rHandleLeftDown","left-down");this.Set(this.idPrefix+"rHandleRightUp","right-up");this.Set(this.idPrefix+"rHandleLeftUp","left-up");this.Set(this.idPrefix+"rHandleLeft","left");this.Set(this.idPrefix+"rHandleUp","up")}this.Set(this.idPrefix+"rHandleRight","right");this.Set(this.idPrefix+"rHandleRightDown","right-down");this.Set(this.idPrefix+"rHandleDown","down")},SetOptions:function(d){this.options={Max:false,mxContainer:"",mxLeft:0,mxRight:9999,mxTop:0,mxBottom:9999,Min:true,minWidth:50,minHeight:30,Scale:false,Ratio:0,onResize:null,attachObj:[],proxy:false,wrap:null,isStatic:false};if(d){for(var e in d){this.options[e]=d[e]}}},Set:function(g,f){var d;g=document.getElementById(g);if(!g){return}switch(f.toLowerCase()){case"up":d=this.Up;break;case"down":d=this.Down;break;case"left":d=this.Left;break;case"right":d=this.Right;break;case"left-up":d=this.LeftUp;break;case"right-up":d=this.RightUp;break;case"left-down":d=this.LeftDown;break;case"right-down":default:if(this.proxy){this._proxy.style.cursor="nw-resize"}d=this.RightDown}var e=this;$(g).on("mousedown.resize",function(h){e.Start(h,d)})},Start:function(k,g){if(k.stopPropagation){k.stopPropagation()}else{k.cancelBubble=true}this._fun=g;this._styleWidth=this._startWidth=this._obj.clientWidth;this._styleHeight=this._startHeight=this._obj.clientHeight;this._styleLeft=this._startLeft=this._obj.offsetLeft;this._styleTop=this._startTop=this._obj.offsetTop;this._sideLeft=k.clientX-this._styleWidth;this._sideRight=k.clientX+this._styleWidth;this._sideUp=k.clientY-this._styleHeight;this._sideDown=k.clientY+this._styleHeight;this._fixLeft=this._styleWidth+this._styleLeft;this._fixTop=this._styleHeight+this._styleTop;if(this.Scale){this.Ratio=Math.max(this.Ratio,0)||this._styleWidth/this._styleHeight;this._scaleLeft=this._styleLeft+this._styleWidth/2;this._scaleTop=this._styleTop+this._styleHeight/2}if(this.Max){var j=this.mxLeft,h=this.mxRight,f=this.mxTop,d=this.mxBottom;if(!!this._mxContainer){j=Math.max(j,0);f=Math.max(f,0);h=Math.min(h,this._mxContainer.clientWidth);d=Math.min(d,this._mxContainer.clientHeight)}h=Math.max(h,j+(this.Min?this.minWidth:0)+this._borderX);d=Math.max(d,f+(this.Min?this.minHeight:0)+this._borderY);this._mxSet=function(){this._mxRightWidth=h-this._styleLeft-this._borderX;this._mxDownHeight=d-this._styleTop-this._borderY;this._mxUpHeight=Math.max(this._fixTop-f,this.Min?this.minHeight:0);this._mxLeftWidth=Math.max(this._fixLeft-j,this.Min?this.minWidth:0)};this._mxSet();if(this.Scale){this._mxScaleWidth=Math.min(this._scaleLeft-j,h-this._scaleLeft-this._borderX)*2;this._mxScaleHeight=Math.min(this._scaleTop-f,d-this._scaleTop-this._borderY)*2}}if(this.proxy){this._proxy.style.display="block"}$document.on("mousemove.resize",this._fR);$document.on("mouseup.resize",this._fS);if(b){$(this._wrap).on("losecapture.resize",this._fS);this._wrap.setCapture()}else{$window.on("blur.resize",this._fS);k.preventDefault()}},Resize:function(h){if(window.getSelection){window.getSelection().removeAllRanges()}else{document.selection.empty()}this._fun(h);this._proxy.style.width=this._styleWidth+"px";this._proxy.style.height=this._styleHeight+"px";if(!this.isStatic){this._proxy.style.top=this._styleTop+"px";this._proxy.style.left=this._styleLeft+"px"}if(this.attachObj&&this.attachObj.length>0){for(var g=0,d=this.attachObj.length;g<d;g++){var f;this.attachObj[g].style.width=this._proxy.style.clientWidth+this._styleWidth-this._startWidth+"px";this.attachObj[g].style.height=this._proxy.style.clientHeight+this._styleHeight-this._startHeight+"px"}}if(this.onResize){this.onResize()}},Up:function(d){this.RepairY(this._sideDown-d.clientY,this._mxUpHeight);this.RepairTop()},Down:function(d){this.RepairY(d.clientY-this._sideUp,this._mxDownHeight)},Right:function(d){this.RepairX(d.clientX-this._sideLeft,this._mxRightWidth)},Left:function(d){this.RepairX(this._sideRight-d.clientX,this._mxLeftWidth);this.RepairLeft()},RightDown:function(d){this.RepairAngle(d.clientX-this._sideLeft,this._mxRightWidth,d.clientY-this._sideUp,this._mxDownHeight)},RightUp:function(d){this.RepairAngle(d.clientX-this._sideLeft,this._mxRightWidth,this._sideDown-d.clientY,this._mxUpHeight);this.RepairTop()},LeftDown:function(d){this.RepairAngle(this._sideRight-d.clientX,this._mxLeftWidth,d.clientY-this._sideUp,this._mxDownHeight);this.RepairLeft()},LeftUp:function(d){this.RepairAngle(this._sideRight-d.clientX,this._mxLeftWidth,this._sideDown-d.clientY,this._mxUpHeight);this.RepairTop();this.RepairLeft()},RepairX:function(f,d){f=this.RepairWidth(f,d);if(this.Scale){var g=this.RepairScaleHeight(f);if(this.Max&&g>this._mxScaleHeight){g=this._mxScaleHeight;f=this.RepairScaleWidth(g)}else{if(this.Min&&g<this.minHeight){var e=this.RepairScaleWidth(this.minHeight);if(e<d){g=this.minHeight;f=e}}}this._styleHeight=g;this._styleTop=this._scaleTop-g/2}this._styleWidth=f},RepairY:function(g,d){g=this.RepairHeight(g,d);if(this.Scale){var f=this.RepairScaleWidth(g);if(this.Max&&f>this._mxScaleWidth){f=this._mxScaleWidth;g=this.RepairScaleHeight(f)}else{if(this.Min&&f<this.minWidth){var e=this.RepairScaleHeight(this.minWidth);if(e<d){f=this.minWidth;g=e}}}this._styleWidth=f;this._styleLeft=this._scaleLeft-f/2}this._styleHeight=g},RepairAngle:function(g,e,h,d){g=this.RepairWidth(g,e);if(this.Scale){h=this.RepairScaleHeight(g);if(this.Max&&h>d){h=d;g=this.RepairScaleWidth(h)}else{if(this.Min&&h<this.minHeight){var f=this.RepairScaleWidth(this.minHeight);if(f<e){h=this.minHeight;g=f}}}}else{h=this.RepairHeight(h,d)}this._styleWidth=g;this._styleHeight=h},RepairTop:function(){this._styleTop=this._fixTop-this._styleHeight},RepairLeft:function(){this._styleLeft=this._fixLeft-this._styleWidth},RepairHeight:function(e,d){e=Math.min(this.Max?d:e,e);e=Math.max(this.Min?this.minHeight:e,e,0);return e},RepairWidth:function(e,d){e=Math.min(this.Max?d:e,e);e=Math.max(this.Min?this.minWidth:e,e,0);return e},RepairScaleHeight:function(d){return Math.max(Math.round((d+this._borderX)/this.Ratio-this._borderY),0)},RepairScaleWidth:function(d){return Math.max(Math.round((d+this._borderY)*this.Ratio-this._borderX),0)},Stop:function(){if(this.proxy){this._proxy.style.display="none"}$document.off("mousemove.resize",this._fR);$document.off("mouseup.resize",this._fS);if(b){$(this._wrap).off("losecapture.resize",this._fS);this._wrap.releaseCapture()}else{$window.off("blur.resize",this._fS)}if(this.endResize&&typeof(this.endResize)==="function"){this.endResize({height:this._styleHeight,width:this._styleWidth,top:this._styleTop,left:this._styleLeft})}}};c.Resize=a})();(function(){var h=window.Zving,d=h.Node;h.currentDragDropManager=null;if(window!=h.rootWin){h.currentDragDropManager=h.rootWin.Zving.currentDragDropManager}var c={isDragging:false,dragObject:null,startDate:null,startWindow:window,startX:0,startY:0,pageX:0,pageY:0,deltaX:0,deltaY:0,deltaDeltaX:0,deltaDeltaY:0,mouseDownTarget:null,startDrag:h.noopFn};(function(){var j=function(n){var m=c.dragObject;n=Event.fixEvent(n);if(c.isDragging||!m){return}c.isDragging=true;if(this.startWindow!=h.rootWin){h.currentDragDropManager=c}$document.on("mousemove.drag",k);$document.on("mouseup.drag",l);c.startDate=new Date();c.deltaX=c.deltaY=c.deltaDeltaX=c.deltaDeltaY=0;c.startX=c.pageX=n.pageX;c.startY=c.pageY=n.pageY;c.mouseDownTarget=n.target||n.srcElement;m.dragstart(n);n.preventDefault()};var l=function(n){var m=c.dragObject;if(!c.isDragging||!m){return}m.dragend(n);c.isDragging=false;if(this.startWindow!=h.rootWin){h.currentDragDropManager=null}c.dragObject=null;$document.off("mousemove.drag");$document.off("mouseup.drag")};var k=function(r){var q=c.dragObject;r=Event.fixEvent(r);if(!c.isDragging||!q){return}var p=r.view||(r.target||r.srcElement).ownerDocument.parentWindow;var m=r.pageX;var t=r.pageY;if(p!=c.startWindow){var n=h.Dom.getFrameOffset(p);var o=h.Dom.getFrameOffset(c.startWindow);m=m+n.x-o.x;t=t+n.y-o.y}c.deltaDeltaX=m-c.pageX;c.deltaDeltaY=t-c.pageY;c.pageX=m;c.pageY=t;c.deltaX=m-c.startX;c.deltaY=t-c.startY;q.drag(r);r.preventDefault()};c.startDrag=function(n,m){this.dragObject=m;j(n)}}());var f=function(j){h.extra(this,j);h.Observable(this);h.UICompBase.prototype.getId.call(this);h.ComponentManager.add(this);if(!this.lazyRender){this.render()}};var b=function(j){return parseFloat(j)||0};f.prototype={ctype:"SimpleDrag",dragEl:null,handleEl:null,capture:false,proxyEl:null,xAttr:"left",yAttr:"top",maxXAttr:null,minXAttr:null,maxYAttr:null,minYAttr:null,xFixed:false,yFixed:false,withProxy:true,offsetProxy:false,getProxy:function(){var j=this.proxyEl||h.getDom("_DragProxy");if(!j){j=document.createElement("div");j.id="_DragProxy";j.className="z-proxy-dd";document.body.appendChild(j);j.style.display="none"}this.proxyEl=j;return j},dragstart:function(o){var n=this;if(n.capture&&n.handleEl.setCapture){n.handleEl.setCapture();window.event.cancelBubble=true}n.startXAttr=b(d.getCurrentStyle(n.dragEl,n.xAttr.replace(/^-/,"")));n.startYAttr=b(d.getCurrentStyle(n.dragEl,n.yAttr.replace(/^-/,"")));n.startXAttrInPage=d.getOffset(n.dragEl).x;n.startYAttrInPage=d.getOffset(n.dragEl).y;if(n.withProxy){var k,q;var l=n.getProxy();var m=d.getRect(n.dragEl);k=m.left;q=m.top;if(typeof this.offsetProxy=="string"){if(this.offsetProxy.indexOf("t")!=-1){k=q-c.pageY-m.top-5}if(this.offsetProxy.indexOf("l")!=-1){k=k-c.pageX-m.left-5}if(this.offsetProxy.indexOf("r")!=-1){k=k+c.pageX-m.left+5}if(this.offsetProxy.indexOf("b")!=-1){q=q+c.pageY-m.top+5}}d.setPosition(l,k,q);d.setSize(l,m.width,m.height);d.css(l,"z-index",(parseInt(d.css(n.dragEl,"z-index"),10)||0)+1);n.startXAttrProxy=b(l.style[n.xAttr.replace(/^-/,"")]);n.startYAttrProxy=b(l.style[n.yAttr.replace(/^-/,"")]);l.__deltaX=l.__deltaY=0;var j;var p=function(){var r=0;if(n!=c.dragObject||l.style.display!="none"){r=-1}if(c.deltaX*c.deltaX+c.deltaY*c.deltaY>4||(new Date()-c.startDate)>500){r=1}if(r===1){l.style.display="block"}if(r===1||r===-1){clearInterval(j)}};if(isIE){l.style.display="block"}else{j=setInterval(p,20)}}n.fireEvent("dragstart",o)},drag:function(o){var m=this,n={X:1,Y:1};for(var l in n){var j=l.toLowerCase();if(!m[j+"Fixed"]){var p=(m[j+"Attr"].indexOf("-")===0?-1:1)*c["delta"+l];if(m["max"+l+"Attr"]!==null){p=Math.min(p,m["max"+l+"Attr"]-m["start"+l+"AttrInPage"])}if(m["min"+l+"Attr"]!==null){p=Math.max(p,m["min"+l+"Attr"]-m["start"+l+"AttrInPage"])}if(m.withProxy){try{d.setStyle(m.proxyEl,m[j+"Attr"],(m["start"+l+"AttrProxy"]+p)+"px")}catch(k){}m.proxyEl["__delta"+l]=p}else{d.setStyle(m.dragEl,m[j+"Attr"].replace(/^-/,""),(m["start"+l+"Attr"]+p)+"px")}}}m.fireEvent("drag",o)},dragend:function(l){var k=this;if(k.capture&&k.handleEl.releaseCapture){k.handleEl.releaseCapture()}if(k.withProxy){var j=k.proxyEl;j.style.display="none";if(!k.xFixed){d.setStyle(k.dragEl,k.xAttr.replace(/^-/,""),(k.startXAttr+j.__deltaX)+"px")}if(!k.yFixed){d.setStyle(k.dragEl,k.yAttr.replace(/^-/,""),(k.startYAttr+j.__deltaY)+"px")}}k.fireEvent("dragend",l)},render:function(){var j=this;if(j._rendered){return}j.addEvents("dragstart","drag","dragend");if(j.delegateContainer){$(j.delegateContainer).delegate(j.handleSelector,"mousedown.drag",function(k){j.handleEl=this;if(j.dragSelector){j.dragEl=$(this).closest(j.dragSelector)[0]}else{j.dragEl=j.handleEl}c.startDrag((k&&k.core)||k,j)})}else{j.handleEl=j.handleEl||j.dragEl;$(j.handleEl).on("mousedown.drag",function(k){c.startDrag(k,j)})}j._rendered=true},destroy:function(){var j=this;if(!j._rendered){return}if(j.delegateContainer){$(j.delegateContainer).off("mousedown.drag")}else{$(j.handleEl).off("mousedown.drag")}h.ComponentManager.unregister(this)}};var e=function(j){f.call(this,j)};e.MENTOR_CLASS=f;e.prototype={ctype:"SimpleResize",xAttr:"width",yAttr:"height",minXAttr:0,minYAttr:0};h.extraIf(e.prototype,f.prototype);var g=function(j){h.extra(this,j);h.Observable(this);if(!this.lazyRender){this.render()}};g.prototype={ctype:"RectSelector",proxyEl:null,handleEl:null,getProxy:(function(){var j=null;return function(){var k=this.proxyEl||j;if(!k){k=h.Dom.createNode("div",{className:"z-proxy-rectselector"});document.body.appendChild(k);k.style.display="none";this.proxyEl=k}return this.proxyEl}}()),dragstart:function(j){this.proxyEl=this.getProxy();this.proxyEl.style.display="block";if(this.handleEl.setCapture){this.handleEl.setCapture()}d.setPosition(this.proxyEl,c.startX,c.startY);d.setSize(this.proxyEl,1,1);this.fireEvent("dragstart",j)},drag:function(j){d.setPosition(this.proxyEl,Math.min(c.startX,c.pageX),Math.min(c.startY,c.pageY));d.setSize(this.proxyEl,Math.abs(c.deltaX),Math.abs(c.deltaY));this.fireEvent("drag",j)},dragend:function(j){if(this.handleEl.releaseCapture){this.handleEl.releaseCapture()}this.proxyEl.style.display="none";this.fireEvent("dragend",j)},render:function(){var j=this;if(j._rendered){return}j.addEvents("dragstart","drag","dragend");$(j.handleEl).on("mousedown.drag",function(k){if(k.target==j.handleEl){c.startDrag(k,j)}});j._rendered=true}};var a=function(j){f.call(this,j)};a.MENTOR_CLASS=f;a.prototype={ctype:"LayoutDrag",withProxy:true,isInline:false,dragstart:function(j){d.addClass(this.dragEl,"dragingModule");f.prototype.dragstart.call(this,j)},dragend:function(j){d.removeClass(this.dragEl,"dragingModule");f.prototype.dragend.call(this,j)},adjustLayout:function(n){var p=this,v=c.pageX,r=c.pageY,u=p.siblings,j=p.containers,q=p.isInline?"deltaDeltaX":"deltaDeltaY",t;if(n.type=="dragstart"||n.name=="dragstart"){if(p.__elAnim){p.__elAnim.pause()}}else{if(n.type=="drag"||n.name=="drag"){if(j||u){var w=false,m,l;t=d.getRect(p.dragEl);var o=d.getMargin(p.dragEl);if(v>=t.left-o[3]&&v<=t.right+o[1]&&r>=t.top-o[0]&&r<=t.bottom+o[2]){return}for(m=0;u!==null&&m<u.length;m++){l=u[m];if(l==p.dragEl){continue}t=d.getRect(l);o=d.getMargin(l);if(v>=t.left-o[3]&&v<=t.right+o[1]&&r>=t.top-o[0]&&r<=t.bottom+o[2]){if(c[q]>0){l.parentNode.insertBefore(p.dragEl,l.nextSibling)}else{if(c[q]<0){l.parentNode.insertBefore(p.dragEl,l)}}w=true;break}}for(m=0;!w&&j!==null&&m<j.length;m++){l=j[m];t=d.getRect(l);if(v>t.left+1&&v<t.right-1&&r>t.top+1&&r<t.bottom-1){if(l.lastChild!=p.dragEl){l.appendChild(p.dragEl);w=true}break}}if(w&&p.handleEl.setCapture){p.handleEl.setCapture()}}}}if(n.type=="dragend"||n.name=="dragend"){if(p.needAnim&&Zving.Animate){t=d.getRect(p.dragEl);p.proxyEl.style.display="block";var k=new Zving.Animate(p.proxyEl,{width:{to:t.width},height:{to:t.height},left:{to:t.left},top:{to:t.top}},300);k.on("end",function(){p.proxyEl.style.display="none"});k.play();p.proxyEl.__elAnim=k}}},render:function(){var k=this;f.prototype.render.call(k);var j=k.adjustLayout;if(j){k.on("dragstart",j);k.on("drag",j);k.on("dragend",j)}}};h.extraIf(a.prototype,f.prototype);$window.on("unload",function(){c.dragObject=null;c.mouseDownTarget=null;c.startWindow=null;h.currentDragDropManager=null});h.DragDropManager=c;h.SimpleDrag=f;h.SimpleResize=e;h.LayoutDrag=a;h.RectSelector=g})();(function(){var z=window.Zving,isIE=z.isIE,getEvent=z.getEvent,Misc=z.Misc,DragManager={};DragManager.DragFlag=false;DragManager.DragSource=null;DragManager.DragProxy=null;DragManager.dragObjects={};DragManager.onMouseDown=function(evt,ele,opts){evt=getEvent(evt);ele=z.getDom(ele);if(!evt.srcElement||!ele){return}var dragFlag=z.Node.getParentByAttr(evt.srcElement,"drag","false");if(dragFlag){return}var dragObj;dragObj=DragManager.dragObjects[z.id(ele)];if(!dragObj){var options=z.extraIf({dragEl:ele},opts);dragObj=DragManager.dragObjects[z.id(ele)]=new z.SimpleDrag(options);DragManager.DragSource=ele;dragObj.on("dragstart",DragManager.onDragStart,ele);dragObj.on("drag",DragManager.onDrag,ele);dragObj.on("dragend",DragManager.onDragEnd,ele);z.DragDropManager.startDrag(evt,dragObj)}DragManager.DragSource=ele};DragManager.onMouseOver=function(evt,ele){if(DragManager.DragFlag){var dragOver=ele.getAttribute("dragover");if(dragOver){var func=eval(dragOver);func.apply(ele,arguments)}}};DragManager.onMouseOut=function(evt,ele){if(DragManager.DragFlag){var dragOut=ele.getAttribute("dragout");if(dragOut){var func=eval(dragOut);func.apply(ele,arguments)}}};DragManager.onMouseUp=function(evt,ele){evt=getEvent(evt);var dragFlag=z.Node.getParentByAttr(evt.srcElement,"drag","false");if(dragFlag){return}if(DragManager.DragFlag){DragManager.onMouseOut.apply(ele,arguments);var dragEnd=ele.getAttribute("dragend");if(dragEnd){var func=eval(dragEnd);func.apply(ele,arguments)}if(DragManager.DragProxy&&DragManager.DragSource!=DragManager.DragProxy){DragManager.DragProxy.innerHTML=""}}Misc.unlockSelect();DragManager.DragProxy=null;DragManager.DragFlag=false;DragManager.DragSource=null};DragManager.onDragStart=function(evt){var func,pos=null;evt=getEvent(evt);DragManager.DragFlag=true;var dragStart=DragManager.DragSource.getAttribute("dragstart");if(dragStart){func=eval(dragStart);func.apply(DragManager.DragSource,arguments)}};DragManager.onDrag=function(evt){var func,pos=null;evt=getEvent(evt);if(DragManager.DragFlag){if(DragManager.DragProxy){if(!evt.srcElement){return}}var draging=DragManager.DragSource.getAttribute("draging");if(draging){func=eval(draging);func.apply(DragManager.DragSource,arguments)}}else{var pw=z.rootWin;if(pw.Zving&&pw.Zving.DragManager&&pw.Zving.DragManager.DragFlag){pw.Zving.DragManager.onDrag(evt)}}};DragManager.onDragEnd=function(){var func,pw=z.rootWin;DragManager.DragFlag=false;pw.Zving.DragManager.DragFlag=false;if(!DragManager.DragSource){return}var dragExit=DragManager.DragSource.getAttribute("dragexit");if(dragExit){func=eval(dragExit);func.apply(DragManager.DragSource,arguments)}var dragOut=DragManager.DragSource.getAttribute("dragout");if(dragOut){func=eval(dragOut);func.apply(DragManager.DragSource,arguments)}if(DragManager.DragProxy&&DragManager.DragSource!=DragManager.DragProxy){DragManager.DragProxy.innerHTML=""}Misc.unlockSelect();DragManager.DragProxy=null;DragManager.DragFlag=false;DragManager.DragSource=null};z.DragManager=DragManager})();(function(){var b=Zving.CONTEXTPATH;var a={};a.Spliter="_ZVING_SPLITER_";a.get=function(e){var f=document.cookie.split("; ");for(i=0;i<f.length;i++){var c=f[i].split("=");var g=c[0].trim();var d=c[1]?c[1].trim():"";if(g===e){return decodeURIComponent(d)}}return null};a.getAll=function(){var g=document.cookie.split("; ");var h=[];for(i=0;i<g.length;i++){var d=g[i].split("=");var l=d[0].trim();var e=d[1]?d[1].trim():"";if(l.indexOf(a.Spliter)>=0){continue}if(e.indexOf("^"+a.Spliter)===0){var c=e.substring(a.Spliter.length+1,e.indexOf("$"));var f,k=[e];for(f=1;f<c;f++){k.push(a.get(l+a.Spliter+f))}e=k.join("");e=e.substring(e.indexOf("$")+1)}h.push([l,decodeURIComponent(e)])}return h};a.set=function(d,m,e,n,g,c,l){if(d===undefined||m===undefined){return false}if(!l){m=encodeURIComponent(m)}if(!n){n=b}n=n.replace(/^\w+:\/\/[.\w]+:?\d*/g,"");if(e){if(/^[0-9]+$/.test(e)){e=new Date(new Date().getTime()+e*1000).toGMTString()}else{var f=Zving.DateTime.parseDate(e);if(f){e=f.toGMTString()}else{e=undefined}}}if(!l){a.remove(d,n,g)}var j=d+"="+m+";"+((e)?" expires="+e+";":"")+((n)?"path="+n+";":"")+((g)?"domain="+g+";":"")+((c&&c!==0)?"secure":"");if(j.length<4096){document.cookie=j}else{var h,k=Math.ceil(m.length/3800);for(h=0;h<k;h++){if(h===0){a.set(d,"^"+a.Spliter+"|"+k+"$"+m.substr(0,3800),e,n,g,c,true)}else{a.set(d+a.Spliter+h,m.substr(h*3800,3800),e,n,g,c,true)}}}return true};a.remove=function(e,g,f){var d=a.get(e);if(!e||d===null){return false}if(!g){g=b}g=g.replace(/^\w+:\/\/[.\w]+:?\d*/g,"");if(encodeURIComponent(d).length>3800){var c=Math.ceil(encodeURIComponent(d).length/3800);for(i=1;i<c;i++){document.cookie=e+a.Spliter+i+"=;"+((g)?"path="+g+";":"")+((f)?"domain="+f+";":"")+"expires="+new Date(0)+";"}}document.cookie=e+"=;"+((g)?" path="+g+";":"")+((f)?" domain="+f+";":"")+" expires="+new Date(0)+";";return true};Zving.Cookie=a})();(function(){var f=window.Zving,j={};var d;var g={SUCCESS:0,FAILURE:1,OVERFLOW:2};function h(l){return l.replace(/[_\s]/g,function(m){return m=="_"?"__":"_s"})}function b(){return document.getElementById("z-storage")}function a(){var l;if(window.localStorage&&window.localStorage.setItem&&window.localStorage.getItem){l=e()}else{if(window.ActiveXObject&&f.ieVersion<9){l=k()}else{l=c()}}return l}function k(){var l=document.createElement("div");l.id="z-storage";l.style.display="none";document.body.appendChild(l);l.addBehavior("#default#userData");return{set:function(o,q,n){var m=g.SUCCESS,p=b(),u=h(o),t=n?n:new Date().getTime()+365*24*60*60*1000;if(f.isDate(t)){t=t.getTime()}else{t=new Date().getTime()+(t-0)}p.expires=new Date(t).toUTCString();try{p.setAttribute(u,q);p.save(u)}catch(r){m=g.OVERFLOW}p=null;return m},get:function(n){var m=g.SUCCESS,o=b(),r=h(n),q=null;try{o.load(r);q=o.getAttribute(r)}catch(p){m=g.FAILURE;throw"Zving.Storage.get error!"}return q},del:function(n){var m=g.SUCCESS,o=b(),r=h(n),q;try{o.load(r);q=o.getAttribute(r);if(q){o.removeAttribute(r);o.expires=new Date(315532799000).toUTCString();o.save(r)}else{m=g.FAILURE}}catch(p){m=g.FAILURE}return m}}}function e(){return{set:function(n,o,m){var l=g.SUCCESS,t=window.localStorage,r=h(n),q=m||0;if(f.isDate(q)){q=q.getTime()}else{if(q>0){q=new Date().getTime()+(q-0)}}try{t.setItem(r,q+"|"+o)}catch(p){l=g.OVERFLOW}return l},get:function(n){var l=g.SUCCESS,t=window.localStorage,r=h(n),q=null,m,p;try{q=t.getItem(r)}catch(o){l=g.FAILURE}if(q){m=q.indexOf("|");p=parseInt(q.substring(0,m),10);if(new Date(p).getTime()>new Date().getTime()||p===0){q=q.substring(m+1,q.length)}else{q=null;l=g.FAILURE;this.del(n)}}else{l=g.FAILURE}return q},del:function(m){var l=g.SUCCESS,q=window.localStorage,p=h(m),o=null;try{o=q.getItem(p)}catch(n){l=g.FAILURE}if(o){o=o.substring(o.indexOf("|")+1,o.length);l=g[o?"SUCCESS":"FAILURE"];if(o){q.removeItem(p)}}else{l=g.FAILURE}return l}}}function c(){return{set:function(m,n,l){f.Cookie.set(h(m),n,l);return g.SUCCESS},get:function(l){var m=f.Cookie.get(h(l));return m},del:function(l){var n=h(l),m=f.Cookie.get(n);f.Cookie.remove(n);return g[m?"SUCCESS":"FAILURE"]}}}j.set=function(m,n,l){if(!d){d=a()}return d.set.apply(d,arguments)};j.get=function(l){if(!d){d=a()}return d.get.apply(d,arguments)};j.remove=function(l){if(!d){d=a()}return d.del.apply(d,arguments)};f.Storage=j})();(function(){var a=window.Zving;a.DataGSetter=function(f,m,l){var k=f,b;if(typeof l=="string"&&l.length){l=l.substr(0,1).toUpperCase()+l.substr(1)}else{l="Attr"}m=m||"_attributes";var h;if(typeof m=="string"){h=k[m]=k[m]||{}}else{if(typeof m=="object"){h=m}}var d="get"+l;var j="set"+l;var g="getAll"+l;var e="remove"+l;var c="removeAll"+l;if(a.isElement(f)){$window.on("unload",function(){f[m]=f[d]=f[j]=null})}k[d]=function(n){return h[n]};k[g]=function(n){return h};k[c]=function(n){return(h={})};k[j]=function(n,p,o){h[n]=p;if(o!==undefined){k[n]=o}};k[e]=function(n,o){delete h[n];if(o){delete k[n]}}}})();(function(){var b=window.Zving,a=b.Storage;b.Statable=function(d){var c=d,e;if(b.isElement(d)){e=b.id(d);$window.on("unload",function(){d.stateId=d._states=d._allStates=d._eventsHandler=d.addState=d.addStates=d.getState=d.setState=d.removeState=null})}else{e=c.id}c.stateId=c.stateId||b.pageId+"-"+e;c._states=c._states||{};c._allStates=["hidden","disabled"];c._eventsHandler={hidden:{show:[function(){c.setState("hidden",c.hidden)}],hidden:[function(){c.setState("hidden",c.hidden)}]},disabled:{disable:[function(){c.setState("hidden",c.hidden)}],enable:[function(){c.setState("hidden",c.hidden)}]}};c.addState=function(j,f,g){c._states[j]=c[j];c._eventsHandler[j]=c._eventsHandler[j]||{};var h=c._eventsHandler[j];if(f){h[f]=h[f]||[];if(!g){g=function(){c.setState(j,c[j])}}h[f].push(g);if(b.isElement(c)){$(c).on(f,g)}else{c.on(f,g)}}};c.addStates=function(){var f=arguments,g=f.length;while(g--){c._states[f[g]]=c[f[g]];c._eventsHandler[f[g]]={}}};c.getState=function(g){var f=a.get(c.stateId);if(f){f=b.JSON.parse(f);return f[g]}};c.getAllState=function(g){var f=a.get(c.stateId);if(f){f=b.JSON.parse(f);return f}};c.setState=function(g,h){var f=a.get(c.stateId);if(f){f=b.JSON.parse(f)}else{f={}}f[g]=h;return a.set(c.stateId,b.JSON.stringify(f))};c.removeState=function(g){var f=a.get(c.stateId);if(f){f=b.JSON.parse(f);delete f[g];return a.set(c.stateId,b.JSON.stringify(f))}}}})();
